-- [[ KEY SYSTEM LOADER ]] --
local KeySystem = loadstring(game:HttpGet("https://raw.githubusercontent.com/wendigo5414-cmyk/scripts/refs/heads/main/keysystem.lua"))()
KeySystem.Init()

-- [[ GAME SCRIPT START ]] --
local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()

local Window = Fluent:CreateWindow({
    Title = "Prime X Hub | Jump for Brainrots",
    SubTitle = "by PXH",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.K
})

local Tabs = {
    Main     = Window:AddTab({ Title = "Main",     Icon = "" }),
    Movement = Window:AddTab({ Title = "Movement", Icon = "person-standing" }),
    Teleport = Window:AddTab({ Title = "Teleport", Icon = "map-pin" }),
    Settings = Window:AddTab({ Title = "Settings", Icon = "settings" })
}

local Options = Fluent.Options

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--              SERVICES & VARS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local Players          = game:GetService("Players")
local RunService       = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer      = Players.LocalPlayer

local currentWalkspeed  = 16
local currentJumpHeight = 7.2
local headlessEnabled   = false

local function applyWalkspeed(character)
    if character and character:FindFirstChild("Humanoid") then
        character.Humanoid.WalkSpeed = currentWalkspeed
    end
end

local function applyJumpHeight(character)
    if character and character:FindFirstChild("Humanoid") then
        character.Humanoid.JumpHeight = currentJumpHeight
    end
end

local function applyHeadless(character)
    if not character then return end
    local head = character:FindFirstChild("Head")
    if head then
        head.Transparency = headlessEnabled and 1 or 0
        for _, v in ipairs(head:GetChildren()) do
            if v:IsA("Decal") then
                v.Transparency = headlessEnabled and 1 or 0
            end
        end
    end
end

LocalPlayer.CharacterAdded:Connect(function(char)
    char:WaitForChild("Humanoid")
    applyWalkspeed(char)
    applyJumpHeight(char)
    applyHeadless(char)
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--                 MAIN TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
do
    Fluent:Notify({
        Title = "Prime X Hub",
        Content = "Script loaded! Welcome.",
        Duration = 5
    })

    Tabs.Main:AddParagraph({
        Title = "Prime X Hub",
        Content = "Made for Jump for Brainrots\nVersion 2.0\nEnjoy!"
    })
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--              MOVEMENT TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
do
    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    --  SECTION: Movement
    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Tabs.Movement:AddParagraph({
        Title = "---------------- âš¡ Movement ----------------",
        Content = ""
    })

    Tabs.Movement:AddSlider("SpeedSlider", {
        Title = "Speed Slider",
        Description = "Change your WalkSpeed",
        Default = 16,
        Min = 16,
        Max = 200,
        Rounding = 0,
        Callback = function(Value)
            currentWalkspeed = Value
            applyWalkspeed(LocalPlayer.Character)
        end
    })

    Tabs.Movement:AddSlider("JumpSlider", {
        Title = "Jump Height Slider",
        Description = "Change your Jump Height",
        Default = 7,
        Min = 7,
        Max = 100,
        Rounding = 0,
        Callback = function(Value)
            currentJumpHeight = Value
            applyJumpHeight(LocalPlayer.Character)
        end
    })

    local infiniteJumpEnabled = false
    local jumpConnection

    local InfJump = Tabs.Movement:AddToggle("InfJump", {
        Title = "INF Jump",
        Default = false
    })
    InfJump:OnChanged(function(Value)
        infiniteJumpEnabled = Value
        if Value then
            jumpConnection = UserInputService.JumpRequest:Connect(function()
                if infiniteJumpEnabled then
                    local character = LocalPlayer.Character
                    if character and character:FindFirstChild("Humanoid") then
                        character.Humanoid:ChangeState("Jumping")
                    end
                end
            end)
        else
            if jumpConnection then jumpConnection:Disconnect(); jumpConnection = nil end
        end
    end)

    local noclipEnabled = false
    local noclipConnection

    local NoClip = Tabs.Movement:AddToggle("NoClip", {
        Title = "No Clip",
        Default = false
    })
    NoClip:OnChanged(function(Value)
        noclipEnabled = Value
        if Value then
            noclipConnection = RunService.Stepped:Connect(function()
                if noclipEnabled then
                    local character = LocalPlayer.Character
                    if character then
                        for _, v in ipairs(character:GetDescendants()) do
                            if v:IsA("BasePart") then v.CanCollide = false end
                        end
                    end
                end
            end)
        else
            if noclipConnection then noclipConnection:Disconnect(); noclipConnection = nil end
        end
    end)

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    --  SECTION: Protection & Proximity
    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Tabs.Movement:AddParagraph({
        Title = "------- ğŸ›¡ï¸ Protection & Proximity --------",
        Content = ""
    })

    local godModeEnabled = false

    local GodMode = Tabs.Movement:AddToggle("GodMode", {
        Title = "God Mode",
        Default = false
    })
    GodMode:OnChanged(function(Value)
        godModeEnabled = Value
        if Value then
            task.spawn(function()
                while godModeEnabled do
                    local traps = workspace:FindFirstChild("Traps")
                    if traps then
                        for _, v in ipairs(traps:GetDescendants()) do
                            if v:IsA("BasePart") then v.CanTouch = false end
                        end
                    end
                    task.wait(0.1)
                end
            end)
        else
            godModeEnabled = false
            local traps = workspace:FindFirstChild("Traps")
            if traps then
                for _, v in ipairs(traps:GetDescendants()) do
                    if v:IsA("BasePart") then v.CanTouch = true end
                end
            end
        end
    end)

    local instantPromptsEnabled = false
    local originalHoldDurations = {}
    local promptAddedConnection

    local function setPromptHoldDuration(prompt, instant)
        if instant then
            originalHoldDurations[prompt] = prompt.HoldDuration
            prompt.HoldDuration = 0
        else
            if originalHoldDurations[prompt] then
                prompt.HoldDuration = originalHoldDurations[prompt]
                originalHoldDurations[prompt] = nil
            end
        end
    end

    local ProximityPromptToggle = Tabs.Movement:AddToggle("ProximityPrompt", {
        Title = "Proximity Prompt",
        Default = false
    })
    ProximityPromptToggle:OnChanged(function(Value)
        instantPromptsEnabled = Value
        if Value then
            for _, v in ipairs(workspace:GetDescendants()) do
                if v:IsA("ProximityPrompt") then setPromptHoldDuration(v, true) end
            end
            promptAddedConnection = game.DescendantAdded:Connect(function(desc)
                if instantPromptsEnabled and desc:IsA("ProximityPrompt") then
                    setPromptHoldDuration(desc, true)
                end
            end)
        else
            for _, v in ipairs(workspace:GetDescendants()) do
                if v:IsA("ProximityPrompt") then setPromptHoldDuration(v, false) end
            end
            if promptAddedConnection then promptAddedConnection:Disconnect(); promptAddedConnection = nil end
        end
    end)

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    --  SECTION: Fun
    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Tabs.Movement:AddParagraph({
        Title = "------------------ ğŸ‰ Fun ------------------",
        Content = ""
    })

    local HeadlessToggle = Tabs.Movement:AddToggle("Headless", {
        Title = "Headless",
        Default = false
    })
    HeadlessToggle:OnChanged(function(Value)
        headlessEnabled = Value
        applyHeadless(LocalPlayer.Character)
    end)

    local rainbowTrailEnabled = false
    local rainbowTrail = nil
    local hue = 0

    local function createRainbowTrail()
        local character = LocalPlayer.Character
        if not character then return end
        local hrp = character:FindFirstChild("HumanoidRootPart")
        if not hrp then return end
        local att1 = Instance.new("Attachment"); att1.Position = Vector3.new(-1.5, 0, 0); att1.Parent = hrp
        local att2 = Instance.new("Attachment"); att2.Position = Vector3.new(1.5, 0, 0);  att2.Parent = hrp
        local trail = Instance.new("Trail")
        trail.Attachment0 = att1; trail.Attachment1 = att2
        trail.Lifetime = 1; trail.Enabled = true; trail.Parent = hrp
        rainbowTrail = trail
        task.spawn(function()
            while rainbowTrailEnabled and rainbowTrail and rainbowTrail.Parent do
                hue = (hue + 0.01) % 1
                rainbowTrail.Color = ColorSequence.new(Color3.fromHSV(hue, 1, 1))
                task.wait(0.05)
            end
        end)
    end

    local RainbowTrailToggle = Tabs.Movement:AddToggle("RainbowTrail", {
        Title = "Rainbow Trail",
        Default = false
    })
    RainbowTrailToggle:OnChanged(function(Value)
        rainbowTrailEnabled = Value
        if Value then
            if rainbowTrail then rainbowTrail:Destroy() end
            createRainbowTrail()
        else
            if rainbowTrail then rainbowTrail:Destroy(); rainbowTrail = nil end
        end
    end)

    local originalHeadScale
    local BigHeadToggle = Tabs.Movement:AddToggle("BigHead", {
        Title = "Big Head",
        Default = false
    })
    BigHeadToggle:OnChanged(function(Value)
        local character = LocalPlayer.Character
        if not character then return end
        local head = character:FindFirstChild("Head")
        if not head then return end
        if Value then
            originalHeadScale = originalHeadScale or head.Size
            head.Size = Vector3.new(5, 5, 5)
        else
            if originalHeadScale then head.Size = originalHeadScale end
        end
    end)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--              TELEPORT TAB
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
do
    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    --  SECTION: Player Teleport
    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Tabs.Teleport:AddParagraph({
        Title = "------------ ğŸ§ Player Teleport ------------",
        Content = ""
    })

    local function getPlayerNames()
        local names = {}
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then table.insert(names, player.Name) end
        end
        return #names > 0 and names or {"No players found"}
    end

    local selectedPlayerName = nil

    local PlayerDropdown = Tabs.Teleport:AddDropdown("PlayerDropdown", {
        Title = "Select Player",
        Description = "Choose a player to teleport to",
        Values = getPlayerNames(),
        Multi = false,
        Default = 1,
    })
    PlayerDropdown:OnChanged(function(Value)
        selectedPlayerName = Value
    end)

    Players.PlayerAdded:Connect(function()   PlayerDropdown:SetValues(getPlayerNames()) end)
    Players.PlayerRemoving:Connect(function() PlayerDropdown:SetValues(getPlayerNames()) end)

    Tabs.Teleport:AddButton({
        Title = "Teleport to Selected Player",
        Description = "Teleports you to the chosen player",
        Callback = function()
            if not selectedPlayerName or selectedPlayerName == "No players found" then
                Fluent:Notify({ Title = "Error", Content = "No player selected!", Duration = 3 })
                return
            end
            local targetPlayer = Players:FindFirstChild(selectedPlayerName)
            if not targetPlayer then
                Fluent:Notify({ Title = "Error", Content = "Player not found in game!", Duration = 3 })
                return
            end
            local targetModel = workspace:FindFirstChild(targetPlayer.Name)
            local targetCF = nil
            if targetModel and targetModel:FindFirstChild("HumanoidRootPart") then
                targetCF = targetModel.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0)
            elseif targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                targetCF = targetPlayer.Character.HumanoidRootPart.CFrame + Vector3.new(0, 3, 0)
            end
            if targetCF then
                local character = LocalPlayer.Character
                if character and character:FindFirstChild("HumanoidRootPart") then
                    character.HumanoidRootPart.CFrame = targetCF
                    Fluent:Notify({ Title = "Teleported!", Content = "Teleported to " .. selectedPlayerName, Duration = 3 })
                end
            else
                Fluent:Notify({ Title = "Error", Content = "Could not find " .. selectedPlayerName .. "'s position!", Duration = 3 })
            end
        end
    })

    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    --  SECTION: Position Memory
    -- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Tabs.Teleport:AddParagraph({
        Title = "------------ ğŸ“ Position Memory ------------",
        Content = ""
    })

    local savedPos = nil

    Tabs.Teleport:AddButton({
        Title = "Save Current Position",
        Description = "Stores where you are standing right now",
        Callback = function()
            local character = LocalPlayer.Character
            if character and character:FindFirstChild("HumanoidRootPart") then
                savedPos = character.HumanoidRootPart.CFrame
                Fluent:Notify({ Title = "Position Saved!", Content = "Current position stored.", Duration = 2 })
            else
                Fluent:Notify({ Title = "Error", Content = "Character not found!", Duration = 2 })
            end
        end
    })

    Tabs.Teleport:AddButton({
        Title = "Teleport to Saved Position",
        Description = "Teleports you back to the saved position",
        Callback = function()
            if savedPos then
                local character = LocalPlayer.Character
                if character and character:FindFirstChild("HumanoidRootPart") then
                    character.HumanoidRootPart.CFrame = savedPos
                    Fluent:Notify({ Title = "Teleported!", Content = "Returned to saved position.", Duration = 2 })
                end
            else
                Fluent:Notify({ Title = "No Position Saved", Content = "Save a position first!", Duration = 2 })
            end
        end
    })
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--           SAVE MANAGER & INTERFACE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
SaveManager:SetLibrary(Fluent)
InterfaceManager:SetLibrary(Fluent)

SaveManager:IgnoreThemeSettings()
SaveManager:SetIgnoreIndexes({})

InterfaceManager:SetFolder("FluentScriptHub")
SaveManager:SetFolder("FluentScriptHub/specific-game")

InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)

Window:SelectTab(1)

Fluent:Notify({
    Title = "Prime X Hub",
    Content = "Script loaded successfully!",
    Duration = 5
})

SaveManager:LoadAutoloadConfig()
